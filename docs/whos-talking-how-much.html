<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Who’s talking how much? | DramaAnalysis</title>
  <meta name="description" content="3 Who’s talking how much? | DramaAnalysis" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Who’s talking how much? | DramaAnalysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Who’s talking how much? | DramaAnalysis" />
  
  
  

<meta name="author" content="Nils Reiter" />


<meta name="date" content="2019-05-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html">
<link rel="next" href="whos-talking-how-often.html">
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#technical-basics"><i class="fa fa-check"></i><b>1.1</b> Technical basics</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#classes"><i class="fa fa-check"></i><b>1.1.1</b> Classes</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#pipelining-with-margrittr"><i class="fa fa-check"></i><b>1.1.2</b> Pipelining with <code>margrittr</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a><ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#origin-tei-xml"><i class="fa fa-check"></i><b>2.1</b> Origin: TEI-XML</a></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#preprocessed-data"><i class="fa fa-check"></i><b>2.2</b> Preprocessed data</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#sample-data"><i class="fa fa-check"></i><b>2.3</b> Sample data</a></li>
</ul></li>
<li class="part"><span><b>I Structure Analysis</b></span></li>
<li class="chapter" data-level="3" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html"><i class="fa fa-check"></i><b>3</b> Who’s talking how much?</a><ul>
<li class="chapter" data-level="3.1" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html#format"><i class="fa fa-check"></i><b>3.1</b> Character names instead of identifiers</a></li>
<li class="chapter" data-level="3.2" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html#stacked-bar-plot"><i class="fa fa-check"></i><b>3.2</b> Stacked bar plot</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html"><i class="fa fa-check"></i><b>4</b> Who’s talking how often?</a><ul>
<li class="chapter" data-level="4.1" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html#when-are-characters-talking"><i class="fa fa-check"></i><b>4.1</b> When are characters talking?</a></li>
<li class="chapter" data-level="4.2" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html#adding-act-boundaries"><i class="fa fa-check"></i><b>4.2</b> Adding act boundaries</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>5</b> Configuration</a><ul>
<li class="chapter" data-level="5.1" data-path="configuration.html"><a href="configuration.html#matrices"><i class="fa fa-check"></i><b>5.1</b> Matrices</a><ul>
<li class="chapter" data-level="5.1.1" data-path="configuration.html"><a href="configuration.html#filter"><i class="fa fa-check"></i><b>5.1.1</b> Filtering unimportant characters</a></li>
<li class="chapter" data-level="5.1.2" data-path="configuration.html"><a href="configuration.html#normalization"><i class="fa fa-check"></i><b>5.1.2</b> Normalization</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="configuration.html"><a href="configuration.html#copresence"><i class="fa fa-check"></i><b>5.2</b> Copresence</a><ul>
<li class="chapter" data-level="5.2.1" data-path="configuration.html"><a href="configuration.html#as-heatmap"><i class="fa fa-check"></i><b>5.2.1</b> As Heatmap</a></li>
<li class="chapter" data-level="5.2.2" data-path="configuration.html"><a href="configuration.html#network"><i class="fa fa-check"></i><b>5.2.2</b> As Network</a></li>
<li class="chapter" data-level="5.2.3" data-path="configuration.html"><a href="configuration.html#network-properties"><i class="fa fa-check"></i><b>5.2.3</b> Network properties</a></li>
<li class="chapter" data-level="5.2.4" data-path="configuration.html"><a href="configuration.html#graph-export"><i class="fa fa-check"></i><b>5.2.4</b> Graph Export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="character-exchange.html"><a href="character-exchange.html"><i class="fa fa-check"></i><b>6</b> Character Exchange</a><ul>
<li class="chapter" data-level="6.1" data-path="character-exchange.html"><a href="character-exchange.html#hamming-distance"><i class="fa fa-check"></i><b>6.1</b> Hamming Distance</a><ul>
<li class="chapter" data-level="6.1.1" data-path="character-exchange.html"><a href="character-exchange.html#normalizedhamming"><i class="fa fa-check"></i><b>6.1.1</b> NormalizedHamming</a></li>
<li class="chapter" data-level="6.1.2" data-path="character-exchange.html"><a href="character-exchange.html#trilcke"><i class="fa fa-check"></i><b>6.1.2</b> Trilcke</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="text-collections.html"><a href="text-collections.html"><i class="fa fa-check"></i><b>7</b> Text Collections</a><ul>
<li class="chapter" data-level="7.1" data-path="text-collections.html"><a href="text-collections.html#defining-collections"><i class="fa fa-check"></i><b>7.1</b> Defining collections</a></li>
<li class="chapter" data-level="7.2" data-path="text-collections.html"><a href="text-collections.html#loading-multiple-plays"><i class="fa fa-check"></i><b>7.2</b> Loading multiple plays</a></li>
</ul></li>
<li class="part"><span><b>II Text Analysis</b></span></li>
<li class="chapter" data-level="8" data-path="word-field-analysis.html"><a href="word-field-analysis.html"><i class="fa fa-check"></i><b>8</b> Word Field Analysis</a><ul>
<li class="chapter" data-level="8.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#single-word-field"><i class="fa fa-check"></i><b>8.1</b> Single word field</a></li>
<li class="chapter" data-level="8.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#multiple-word-fields"><i class="fa fa-check"></i><b>8.2</b> Multiple Word Fields</a><ul>
<li class="chapter" data-level="8.2.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-character"><i class="fa fa-check"></i><b>8.2.1</b> Bar plot by character</a></li>
<li class="chapter" data-level="8.2.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-field"><i class="fa fa-check"></i><b>8.2.2</b> Bar plot by field</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="word-field-analysis.html"><a href="word-field-analysis.html#dictionary-based-distance"><i class="fa fa-check"></i><b>8.3</b> Dictionary Based Distance</a></li>
<li class="chapter" data-level="8.4" data-path="word-field-analysis.html"><a href="word-field-analysis.html#development-over-the-course-of-the-play"><i class="fa fa-check"></i><b>8.4</b> Development over the course of the play</a><ul>
<li class="chapter" data-level="8.4.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#individual-characters"><i class="fa fa-check"></i><b>8.4.1</b> Individual characters</a></li>
<li class="chapter" data-level="8.4.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#comparing-characters"><i class="fa fa-check"></i><b>8.4.2</b> Comparing characters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html"><i class="fa fa-check"></i><b>9</b> Advanced Text Analysis</a><ul>
<li class="chapter" data-level="9.1" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#when-are-characters-mentioned"><i class="fa fa-check"></i><b>9.1</b> When are characters mentioned?</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="resterampe.html"><a href="resterampe.html"><i class="fa fa-check"></i><b>10</b> Resterampe</a><ul>
<li class="chapter" data-level="10.0.1" data-path="resterampe.html"><a href="resterampe.html#character-meta-data"><i class="fa fa-check"></i><b>10.0.1</b> Character meta data</a></li>
<li class="chapter" data-level="10.0.2" data-path="resterampe.html"><a href="resterampe.html#character-groups"><i class="fa fa-check"></i><b>10.0.2</b> Character groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DramaAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="whos-talking-how-much" class="section level1">
<h1><span class="header-section-number">3</span> Who’s talking how much?</h1>
<div class="figure"><span id="fig:unnamed-chunk-3"></span>
<img src="DramaAnalysis_files/figure-html/unnamed-chunk-3-1.png" alt="Relevant classes and functions in this chaper" width="90%" />
<p class="caption">
Figure 3.1: Relevant classes and functions in this chaper
</p>
</div>
<p>First, we calculate summary statistics over all characters.</p>
<pre class="sourceCode r"><code class="sourceCode r">charStats &lt;-<span class="st"> </span><span class="kw">characterStatistics</span>(text)

charStats</code></pre>
<pre><code>##    corpus  drama        character tokens types utterances
## 1    test rjmw.0      sir_william   2056   698         23
## 2    test rjmw.0         waitwell   1826   568         41
## 3    test rjmw.0         der_wirt    324   177          7
## 4    test rjmw.0        mellefont   7981  1722        201
## 5    test rjmw.0           norton   1001   407         46
## 6    test rjmw.0            betty    482   223         20
## 7    test rjmw.0             sara   9121  1908        166
## 8    test rjmw.0          marwood   7225  1757        155
## 9    test rjmw.0           hannah    258   155         16
## 10   test rjmw.0     der_bediente     44    34          2
## 11   test rjmw.0         arabella    398   162         13
## 12   test rksp.0        der_prinz   5303  1257        157
## 13   test rksp.0 der_kammerdiener     42    34          6
## 14   test rksp.0            conti    764   325         24
## 15   test rksp.0        marinelli   5567  1324        221
## 16   test rksp.0     camillo_rota    106    62          6
## 17   test rksp.0  claudia_galotti   2098   657         73
## 18   test rksp.0            pirro    343   196         25
## 19   test rksp.0          odoardo   3248   891        108
## 20   test rksp.0           angelo    635   300         28
## 21   test rksp.0           emilia   2275   630         64
## 22   test rksp.0          appiani   1112   426         48
## 23   test rksp.0         battista    195   112         11
## 24   test rksp.0           orsina   2832   743         64
##    utteranceLengthMean utteranceLengthSd firstBegin lastEnd
## 1             89.39130        108.948169        597  170838
## 2             44.53659         59.768762        670  158683
## 3             46.28571         45.492543       3571    5695
## 4             39.70647         50.034972       5848  170188
## 5             21.76087         23.601492       6328  170456
## 6             24.10000         36.404019       9014  156987
## 7             54.94578         77.785973      11766  167457
## 8             46.61290         62.383230      28320  141005
## 9             16.12500         15.654073      28392   58523
## 10            22.00000         12.727922      31532   31790
## 11            30.61538         31.967532      43987   52559
## 12            33.77707         40.807176        426  136067
## 13             7.00000          5.215362       1149   24954
## 14            31.83333         40.141778       2654   12212
## 15            25.19005         29.844599      13147  134486
## 16            17.66667         19.179851      25577   26914
## 17            28.73973         29.131897      27006  112526
## 18            13.72000         10.663489      27113   50425
## 19            30.07407         40.399571      27385  135555
## 20            22.67857         19.573326      28777   64877
## 21            35.54688         48.159105      36769  134940
## 22            23.16667         25.525401      44452   56735
## 23            17.72727         32.948720      67465   86481
## 24            44.25000         50.977119      88094  112182</code></pre>
<p>This already gives us a lot of information about the characters. In particular, the function <code>characterStatistics()</code> returns a table (of the types <code>QDCharacterStatistics</code>, <code>QDHasCharacter</code> and <code>data.frame</code>) with information about:</p>
<ul>
<li>the number of tokens a character speaks (<code>tokens</code>),</li>
<li>the number of different tokens a character speaks (<code>types</code>),</li>
<li>the number of utterances (<code>utterances</code>),</li>
<li>the average length of the utterances (<code>utteranceLengthMean</code>),</li>
<li>their standard deviation (<code>utteranceLengthSd</code>),</li>
<li>the character position of the start of the first utterance (<code>firstBegin</code>), and</li>
<li>the character position of the end of the last utterance (<code>lastEnd</code>).</li>
</ul>
<p>The function <code>characterStatistics()</code> provides a number of options to control its exact behaviour. Entering <code>?characterStatistics</code> in the R console opens the documentation for the function with a description of all the options. We’ll describe some frequently used options here as well:</p>
<ul>
<li><p>Punctuation: By default, all punctuation marks are counted as tokens. This behaviour can be changed by setting <code>filterPunctuation=TRUE</code>.</p></li>
<li><p>Normalization: The values in the table above are all absolute values. When comparing to other texts, one is often interested in normalized values. If the option <code>normalize</code> is set to <code>TRUE</code>, all values will be normalised (if applicable).</p></li>
<li><p>Segmentation: By default, the function extracts values for the entire play. With the option <code>segment</code>, it is possible to extract statistics by act or scene, as shown in the example below. Except for the additional column <code>Act</code>, the columns in the table are the same as before.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(rksp<span class="fl">.0</span>, 
                    <span class="dt">segment=</span><span class="st">&quot;Act&quot;</span>)</code></pre>
<pre><code>##    corpus  drama Act        character tokens types utterances
## 1    test rksp.0   I        der_prinz   2740   795         71
## 2    test rksp.0   I der_kammerdiener     42    34          6
## 3    test rksp.0   I            conti    764   325         24
## 4    test rksp.0   I        marinelli   1038   412         31
## 5    test rksp.0   I     camillo_rota    106    62          6
## 6    test rksp.0  II  claudia_galotti   1252   477         50
## 7    test rksp.0  II            pirro    343   196         25
## 8    test rksp.0  II          odoardo    611   295         17
## 9    test rksp.0  II           angelo    385   214         19
## 10   test rksp.0  II           emilia   1166   417         28
## 11   test rksp.0  II          appiani   1112   426         48
## 12   test rksp.0  II        marinelli    527   255         28
## 13   test rksp.0 III        marinelli   1814   605         56
## 14   test rksp.0 III        der_prinz    945   398         29
## 15   test rksp.0 III           angelo    250   147          9
## 16   test rksp.0 III         battista    187   106          9
## 17   test rksp.0 III           emilia    413   175         16
## 18   test rksp.0 III  claudia_galotti    614   241         16
## 19   test rksp.0  IV        der_prinz    803   319         30
## 20   test rksp.0  IV        marinelli   1358   495         72
## 21   test rksp.0  IV         battista      8     7          2
## 22   test rksp.0  IV           orsina   2832   743         64
## 23   test rksp.0  IV          odoardo    706   275         30
## 24   test rksp.0  IV  claudia_galotti    232   125          7
## 25   test rksp.0   V        marinelli    830   363         34
## 26   test rksp.0   V        der_prinz    815   321         27
## 27   test rksp.0   V          odoardo   1931   620         61
## 28   test rksp.0   V           emilia    696   251         20
##    utteranceLengthMean utteranceLengthSd firstBegin lastEnd
## 1             38.59155         39.891130        426   26559
## 2              7.00000          5.215362       1149   24954
## 3             31.83333         40.141778       2654   12212
## 4             33.48387         34.234360      13147   23619
## 5             17.66667         19.179851      25577   26914
## 6             25.04000         28.927750      27006   56666
## 7             13.72000         10.663489      27113   50425
## 8             35.94118         41.800823      27385   36244
## 9             20.26316         19.674694      28777   32436
## 10            41.64286         63.826277      36769   48503
## 11            23.16667         25.525401      44452   56735
## 12            18.82143         17.346263      50431   55936
## 13            32.39286         35.245982      56826   79337
## 14            32.58621         48.327393      56914   72918
## 15            27.77778         19.466495      63132   64877
## 16            20.77778         36.033935      67465   75603
## 17            25.81250         27.352559      67517   79537
## 18            38.37500         28.765431      74777   79747
## 19            26.76667         38.699268      79838   95409
## 20            18.86111         20.750229      79972  103998
## 21             4.00000          2.828427      86363   86481
## 22            44.25000         50.977119      88094  112182
## 23            23.53333         18.528140     101533  112733
## 24            33.14286         29.952343     110037  112526
## 25            24.41176         36.802600     112824  134486
## 26            30.18519         37.235257     113752  136067
## 27            31.65574         47.382094     114998  135555
## 28            34.80000         34.284568     128910  134940</code></pre>
<p>Of course, the values in the above table can be directly plotted:</p>
<pre class="sourceCode r"><code class="sourceCode r">charStats &lt;-<span class="st"> </span><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>)

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span>

<span class="kw">barplot</span>(charStats<span class="op">$</span>tokens,  <span class="co"># these are the values to be plotted</span>
        <span class="dt">names.arg =</span> charStats<span class="op">$</span>character, <span class="co"># the labels on the x-axis</span>
        <span class="dt">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span>
) </code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div id="format" class="section level2">
<h2><span class="header-section-number">3.1</span> Character names instead of identifiers</h2>
<p>By default, all our functions identify characters using technical ids, which may or may not be human-readable. Even if they are, it’s usually a good idea to replace them with nice to read labels before publication. We therefore provide the function <code>format()</code>, which can be applied to any table that contains a column with character ids (i.e., any object of type <code>QDHasCharacter</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r">charStats &lt;-<span class="st"> </span><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>)

charStats &lt;-<span class="st"> </span><span class="kw">format</span>(charStats, text) <span class="co"># Replace ids with names</span>

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span>

<span class="kw">barplot</span>(charStats<span class="op">$</span>tokens,  <span class="co"># these are the values to be plotted</span>
        <span class="dt">names.arg =</span> charStats<span class="op">$</span>character, <span class="co"># the labels on the x-axis</span>
        <span class="dt">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span>
)</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>As can be seen above <code>format()</code> requires two arguments: The table in which we want to replace ids by characters, and the original drama object (that we got from calling the function <code>loadDrama()</code>).</p>
</div>
<div id="stacked-bar-plot" class="section level2">
<h2><span class="header-section-number">3.2</span> Stacked bar plot</h2>
<p>The plot shown above is quite wide, and some aspects (like the ranking in terms of spoken tokens), is hard to see. We often use another way of visualizing this, which can be used if you supply the <code>QDCharacterStatistics</code> directly into the <code>barplot()</code> function. In combination with the <code>margrittr</code> pipes, we can call it like this (enter <code>?barplot.QDCharacterStatistics</code> for details on the special barplot function):</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">format</span>(text) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">barplot</span>(<span class="dt">names.arg=</span><span class="kw">c</span>(<span class="st">&quot;Miss Sara Sampson&quot;</span>, <span class="st">&quot;Emilia Galotti&quot;</span>))</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>By default, the <code>barplot.QDCharacterStatistics()</code> function visualises the number of tokens spoken by the characters (and ranks the characters accordingly). This can be changed by supplying the option <code>column</code>, and specifying another value.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">format</span>(text) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">barplot</span>(<span class="dt">names.arg=</span><span class="kw">c</span>(<span class="st">&quot;Miss Sara Sampson&quot;</span>, <span class="st">&quot;Emilia Galotti&quot;</span>), 
          <span class="dt">column =</span> <span class="st">&quot;utteranceLengthMean&quot;</span>) <span class="co"># show mean utterance length</span></code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>This picture looks quite different! Other interesting columns to experiment with are <code>types</code> and <code>utteranceLengthSd</code>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="whos-talking-how-often.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["DramaAnalysis.pdf", "DramaAnalysis.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
