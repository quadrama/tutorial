<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Who’s talking how often? | DramaAnalysis</title>
  <meta name="description" content="4 Who’s talking how often? | DramaAnalysis" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Who’s talking how often? | DramaAnalysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Who’s talking how often? | DramaAnalysis" />
  
  
  

<meta name="author" content="Nils Reiter" />


<meta name="date" content="2019-05-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="whos-talking-how-much.html">
<link rel="next" href="configuration.html">
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#technical-basics"><i class="fa fa-check"></i><b>1.1</b> Technical basics</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#pipelining-with-margrittr"><i class="fa fa-check"></i><b>1.1.1</b> Pipelining with <code>margrittr</code></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#classes"><i class="fa fa-check"></i><b>1.1.2</b> Classes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-preparations.html"><a href="data-preparations.html"><i class="fa fa-check"></i><b>2</b> Data preparations</a></li>
<li class="part"><span><b>I Structure Analysis</b></span></li>
<li class="chapter" data-level="3" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html"><i class="fa fa-check"></i><b>3</b> Who’s talking how much?</a><ul>
<li class="chapter" data-level="3.1" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html#format"><i class="fa fa-check"></i><b>3.1</b> Character names instead of identifiers</a></li>
<li class="chapter" data-level="3.2" data-path="whos-talking-how-much.html"><a href="whos-talking-how-much.html#stacked-bar-plot"><i class="fa fa-check"></i><b>3.2</b> Stacked bar plot</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html"><i class="fa fa-check"></i><b>4</b> Who’s talking how often?</a><ul>
<li class="chapter" data-level="4.1" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html#when-are-characters-talking"><i class="fa fa-check"></i><b>4.1</b> When are characters talking?</a></li>
<li class="chapter" data-level="4.2" data-path="whos-talking-how-often.html"><a href="whos-talking-how-often.html#adding-act-boundaries"><i class="fa fa-check"></i><b>4.2</b> Adding act boundaries</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>5</b> Configuration</a><ul>
<li class="chapter" data-level="5.1" data-path="configuration.html"><a href="configuration.html#matrices"><i class="fa fa-check"></i><b>5.1</b> Matrices</a><ul>
<li class="chapter" data-level="5.1.1" data-path="configuration.html"><a href="configuration.html#filter"><i class="fa fa-check"></i><b>5.1.1</b> Filtering unimportant characters</a></li>
<li class="chapter" data-level="5.1.2" data-path="configuration.html"><a href="configuration.html#normalization"><i class="fa fa-check"></i><b>5.1.2</b> Normalization</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="configuration.html"><a href="configuration.html#copresence"><i class="fa fa-check"></i><b>5.2</b> Copresence</a><ul>
<li class="chapter" data-level="5.2.1" data-path="configuration.html"><a href="configuration.html#as-heatmap"><i class="fa fa-check"></i><b>5.2.1</b> As Heatmap</a></li>
<li class="chapter" data-level="5.2.2" data-path="configuration.html"><a href="configuration.html#as-network"><i class="fa fa-check"></i><b>5.2.2</b> As Network</a></li>
<li class="chapter" data-level="5.2.3" data-path="configuration.html"><a href="configuration.html#network-properties"><i class="fa fa-check"></i><b>5.2.3</b> Network properties</a></li>
<li class="chapter" data-level="5.2.4" data-path="configuration.html"><a href="configuration.html#graph-export"><i class="fa fa-check"></i><b>5.2.4</b> Graph Export</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Text Analysis</b></span></li>
<li class="chapter" data-level="6" data-path="word-field-analysis.html"><a href="word-field-analysis.html"><i class="fa fa-check"></i><b>6</b> Word Field Analysis</a></li>
<li class="chapter" data-level="7" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html"><i class="fa fa-check"></i><b>7</b> Advanced Text Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#when-are-characters-mentioned"><i class="fa fa-check"></i><b>7.1</b> When are characters mentioned?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="resterampe.html"><a href="resterampe.html"><i class="fa fa-check"></i><b>8</b> Resterampe</a><ul>
<li class="chapter" data-level="8.0.1" data-path="resterampe.html"><a href="resterampe.html#character-meta-data"><i class="fa fa-check"></i><b>8.0.1</b> Character meta data</a></li>
<li class="chapter" data-level="8.0.2" data-path="resterampe.html"><a href="resterampe.html#character-groups"><i class="fa fa-check"></i><b>8.0.2</b> Character groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DramaAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="whos-talking-how-often" class="section level1">
<h1><span class="header-section-number">4</span> Who’s talking how often?</h1>
<p>So far, we have counted words for characters. Now we will turn to utterances, and their properties.</p>
<p>First, we will use the function <code>utteranceStatistics()</code> to extract quantitative information about utterances:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">utteranceStatistics</span>(rksp<span class="fl">.0</span>)</code></pre>
<pre><code>##    corpus  drama        character utteranceBegin utteranceLength
## 1    test rksp.0        der_prinz            426    3.874388e-03
## 2    test rksp.0 der_kammerdiener           1149    8.156607e-05
## 3    test rksp.0        der_prinz           1178    2.895595e-03
## 4    test rksp.0 der_kammerdiener           1526    6.525285e-04
## 5    test rksp.0        der_prinz           1655    2.854812e-04
## 6    test rksp.0 der_kammerdiener           1697    1.631321e-04
## 7    test rksp.0        der_prinz           1739    1.019576e-03
## 8    test rksp.0 der_kammerdiener           1857    3.262643e-04
## 9    test rksp.0        der_prinz           1919    2.528548e-03
## 10   test rksp.0 der_kammerdiener           2299    3.670473e-04</code></pre>
<p>This creates a table that is very long, which is why we only show the first 10 rows here. The table contains one row for each utterance, and information about the speaker of the utterance, its length (measured in tokens) and its starting position (character position). We can now inspect the variance in utterance length:</p>
<pre class="sourceCode r"><code class="sourceCode r">ustat &lt;-<span class="st"> </span><span class="kw">utteranceStatistics</span>(rksp<span class="fl">.0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">format</span>(rksp<span class="fl">.0</span>)   <span class="co"># use names instead of character ids (see above)</span>

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase margin</span>

<span class="kw">boxplot</span>(utteranceLength <span class="op">~</span><span class="st"> </span>character, <span class="co"># what do we want to correlate </span>
        <span class="dt">data=</span>ustat, 
        <span class="dt">las =</span> <span class="dv">2</span> <span class="co"># rotate axis labels</span>
      )</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>This uses the regular <code>boxplot()</code> function, enter <code>?boxplot</code> for documentation. <code>utteranceLength ~ character</code> is called a formula in R and (in this case) expresses that we want to look at the column <code>utteranceLength</code>, grouped by the column <code>character</code>. The boxplot is a useful way to grasp the dispersion of a set of values (in this case: the lengths of all utterances by a character).</p>
<div id="when-are-characters-talking" class="section level2">
<h2><span class="header-section-number">4.1</span> When are characters talking?</h2>
<p>While the above displays the <em>length</em> of utterances, we can also display the position of utterances (remember the column <code>utteranceBegin</code>?). The following snippet visualizes when characters are talking, this time for Lessings Miss Sara Sampson:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">2</span>))

<span class="kw">utteranceStatistics</span>(rjmw<span class="fl">.0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">format</span>(rjmw<span class="fl">.0</span>) <span class="op">%&gt;%</span><span class="st">    </span><span class="co"># character names instead of ids</span>
<span class="st">  </span><span class="kw">plot</span>()                <span class="co"># calling plot.QDUtteranceStatistics()</span></code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Each dot in this plot represents one utterance, the x-axis is measured in character positions. This is not really intuitive, but the flow from left to right represents the flow of the text. More technically, we again apply the function <code>format()</code> to display character names instead of character ids. This is the same function as above, just applied to a different table. It can be applied to any table of the type <code>QDHasCharacter</code>. Secondly, the call to the function <code>plot()</code> gets rerouted to the function <code>plot.QDUtteranceStatistics()</code>, because the object we supply as argument is of the type <code>QDUtteranceStatistics</code>. Information about this function can be retrieved by entering <code>?plot.QDUtteranceStatistics</code>.</p>
</div>
<div id="adding-act-boundaries" class="section level2">
<h2><span class="header-section-number">4.2</span> Adding act boundaries</h2>
<p>Now it would be useful to include information on act/scene boundaries in this plot. This can be done by supplying the original drama object as a second argument to the <code>plot()</code> function:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">2</span>))
<span class="kw">utteranceStatistics</span>(rksp<span class="fl">.0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">format</span>(rksp<span class="fl">.0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">plot</span>(rksp<span class="fl">.0</span>) <span class="co"># adding the `QDDrama` object here creates the act boundaries.</span></code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Please note that the information contained in this plot is very similar to the information in configuration matrices.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="whos-talking-how-much.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="configuration.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["DramaAnalysis.pdf", "DramaAnalysis.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
